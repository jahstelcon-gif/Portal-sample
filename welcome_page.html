<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JAHS Telecon Portal</title>

  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- EmailJS SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

  <link rel="stylesheet" href="welcome_page.css">
</head>
<body>

  <!-- Navigation -->
  <nav>
    <button id="login">Login</button>
  </nav>

  <!-- Slider -->
  <div class="slider-container">
    <div class="slides">
      <img src="bg1.png" alt="Slide 1">
      <img src="bg2.png" alt="Slide 2">
      <img src="bg3.png" alt="Slide 3">
      <img src="bg4.png" alt="Slide 4">
    </div>

    <div class="right-card">
      <img src="logowebb.png" style="height: 130px;">
      <h1>Login</h1>
      <form id="universalLoginForm">
        <div class="input-group">
          <input type="email" id="login_email" placeholder=" " required>
          <label for="login_email">Email</label>
        </div>
        <div class="input-group">
          <input type="password" id="login_password" placeholder=" " required>
          <label for="login_password">Password</label>
          <span class="toggle-password" onclick="togglePassword()" style="color: white;">üëÅ</span>
        </div>
        <button type="submit">Sign In</button>
      </form>

      <!-- üîπ Google Sign-In Button -->
      <button id="googleSignInBtn" style="
        margin-top: 15px;
        background-color: white;
        color: #555;
        border: 1px solid #ccc;
        border-radius: 8px;
        padding: 10px 20px;
        cursor: pointer;
        font-weight: bold;
      ">
        <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" 
             alt="Google Logo" 
             style="height: 18px; vertical-align: middle; margin-right: 8px;">
        Sign in with Google
      </button>

      <img src="qrcode.png" style="height: 330px;">
    </div>

    <button class="center-button" id="join">Join our Team!</button>
  </div>

  <!-- Join Popup -->
  <div class="popup_overlay" id="pop_join">
    <div class="popup_box">
      <span class="close" id="closeJoin">&times;</span>
      <div class="popup_left">
        <iframe
          src="https://www.google.com/maps?q=14.8070035,120.8683621&hl=es;z=14&output=embed"
          allowfullscreen>
        </iframe>
      </div>
      <div class="popup_right">
        <h2>Join Our Team</h2>
        <form id="joinForm">
          <label for="join_email">Email:</label>
          <input type="email" id="join_email" required>

          <label for="join_message">Message Us:</label>
          <textarea id="join_message" rows="4" required></textarea>
          <button type="submit">Submit</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

  <script>
    // ---- Firebase Config ----
    const firebaseConfig = {
      apiKey: "AIzaSyB1Gbmp2j2cTfnUmuWTjcL2ypauUpQn8Qc",
      authDomain: "jahsportal.firebaseapp.com",
      databaseURL: "https://jahsportal-default-rtdb.firebaseio.com",
      projectId: "jahsportal",
      storageBucket: "jahsportal.firebasestorage.app",
      messagingSenderId: "798312139932",
      appId: "1:798312139932:web:2f6654cdd82a23406ff159"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // üîπ Google Sign-In Functionality
    const googleProvider = new firebase.auth.GoogleAuthProvider();

    document.getElementById('googleSignInBtn').addEventListener('click', () => {
      auth.signInWithPopup(googleProvider)
        .then((result) => {
          const user = result.user;
          Swal.fire({
            icon: 'success',
            title: 'Welcome!',
            text: `Hello ${user.displayName}, you have signed in successfully!`
          });
          console.log("User:", user);
        })
        .catch((error) => {
          console.error("Google Sign-In Error:", error);
          Swal.fire({
            icon: 'error',
            title: 'Sign-In Failed',
            text: error.message
          });
        });
    });
  </script>

  <!-- JS for Slider -->
  <script>
    const slides = document.querySelector('.slides');
    const slideCount = document.querySelectorAll('.slides img').length;
    let index = 0;

    function showNextSlide(interval) {
      setTimeout(function changeSlide() {
        index = (index + 1) % slideCount;
        slides.style.transform = `translateX(${-index * 100}%)`;
        const nextInterval = (index === 0) ? 6000 : 4000;
        showNextSlide(nextInterval);
      }, interval);
    }
    showNextSlide(6000);

    function togglePassword() {
      const pass = document.getElementById("login_password");
      pass.type = pass.type === "password" ? "text" : "password";
    }
    function togglePasswordPopup() {
      const pass = document.getElementById("login_password_popup");
      pass.type = pass.type === "password" ? "text" : "password";
    }
  </script>

  <!-- Custom JS for Login & Join -->
  <script src="login.js"></script>
</body>
</html>
